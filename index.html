<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Only Winners Eat Pierogi</title>
  <style>
	  /* Ikony tylko w tabeli rozwijanej */
#pierogi-table img {
  width: 18px;
  height: 18px;
  object-fit: contain;
  vertical-align: middle;
  margin-right: 5px;
}
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    nav {
      margin-bottom: 20px;
    }
    nav button {
      padding: 10px 15px;
      margin-right: 10px;
      font-size: 16px;
      cursor: pointer;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 5px 8px;
      text-align: left;
      vertical-align: middle;
    }
    th {
      background-color: #f4f4f4;
    }
    td img {
      width: 18px;
      height: 18px;
      vertical-align: middle;
      margin-right: 5px;
    }
	
	img[src*="Twar√≥g.svg"] {
  width: 18px;
  height: 18px;
  object-fit: contain;
}


    .filter-section {
      margin-top: 20px;
    }
    .custom-select {
      position: relative;
      display: inline-block;
      width: 200px;
    }
    .custom-select select {
      display: none;
    }
    .select-box {
      padding: 5px 10px;
      font-size: 16px;
      cursor: pointer;
      border: 1px solid #ddd;
      background-color: white;
      display: flex;
      align-items: center;
    }
    .select-box img {
      width: 18px;
      height: 18px;
      margin-right: 5px;
    }
    /* Animacja rozwijanej listy: max-height */
    .select-items {
      position: absolute;
      background-color: white;
      border: 1px solid #ddd;
      z-index: 1;
      width: 100%;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.1s ease-out;
    }
    .select-items.show {
      max-height: 200px;
      overflow-y: auto;
    }
    .select-items div {
      padding: 8px;
      cursor: pointer;
    }
    .select-items div:hover {
      background-color: #ddd;
    }
  </style>
</head>
<body>

  <h1>Pierogi - lista</h1>
  <nav>
    <button onclick="showAll()">Wszystkie/All</button>
    <button onclick="showFiltered()">Filtruj/Filter</button>
  </nav>

  <!-- Sekcja filtrowania -->
  <div class="filter-section" id="filterSection" style="display: none;">
    <label for="ingredientSelect1">Wybierz 1szy sk≈Çadnik / Select 1st ingredient:</label>
    <div class="custom-select" id="ingredientSelect1Container">
      <div class="select-box" id="ingredientSelect1Box">
        <img src="Ikony/Pier√≥g.svg" id="ingredientSelect1Icon" alt="Pier√≥g" />
        <span id="ingredientSelect1Label">Sk≈Çadnik/Ingredient</span>
      </div>
      <div class="select-items" id="ingredientSelect1Items">
        <!-- Opcje bƒôdƒÖ dodawane dynamicznie -->
      </div>
    </div>

    <label for="ingredientSelect2">Wybierz 2gi sk≈Çadnik / Select 2nd ingredient:</label>
    <div class="custom-select" id="ingredientSelect2Container">
      <div class="select-box" id="ingredientSelect2Box">
        <img src="Ikony/Pier√≥g.svg" id="ingredientSelect2Icon" alt="Pier√≥g" />
        <span id="ingredientSelect2Label">Sk≈Çadnik/Ingredient</span>
      </div>
      <div class="select-items" id="ingredientSelect2Items">
        <!-- Opcje bƒôdƒÖ dodawane dynamicznie -->
      </div>
    </div>

    <button onclick="filterByIngredients()">Szukaj</button>
    <button onclick="resetSelections()">Reset</button>
  </div>

  <!-- Tabela z pierogami -->
  <table>
    <thead>
      <tr>
        <th>Nazwa/Name</th>
        <th>Baza/Base</th>
        <th>Faktura/Fabric</th>
        <th>Akcent/Accent</th>
        <th>Info</th>
        <th>Cena/Price</th>
      </tr>
    </thead>
    <tbody id="pierogiTable"></tbody>
  </table>

  <script>
    // Ikony sk≈Çadnik√≥w (u≈ºywane dalej przy wy≈õwietlaniu sk≈Çadnik√≥w)
    const icons = {
      "Miƒôso(Meat)": "Ikony/Miƒôso.svg",
      "Cebula(Onion)": "Ikony/Cebula.svg",
      "Marchew(Carrot)": "Ikony/Marchew2.svg",
      "Ziemniaki(Potatoes)": "Ikony/Ziemniaki2.svg",
      "Kapusta(Cabbage)": "Ikony/Kapusta2.svg",
      "Kasza(Groats)": "Ikony/Kasza.svg",
      "Jajko(Egg)": "Ikony/Jajko2.svg",
      "≈öliwka(Plum)": "Ikony/≈öliwka.svg",
      "Grzyby(Mushrooms)": "Ikony/Grzyby.svg",
      "Czosnek(Garlic)": "Ikony/Czosnek2.svg",
      "Orzechy(Nuts)": "Ikony/Orzechy.svg",
      "Czekolada(Chocolate)": "Ikony/Czekolada.svg",
      "Jagody(Blueberries)": "Ikony/Jagody.svg",
      "≈Åoso≈õ(Salmon)": "Ikony/≈Åoso≈õ.svg",
      "Ogie≈Ñ(Fire)": "Ikony/Ogie≈Ñ.svg",
      "Twar√≥g(Quark)": "Ikony/Twar√≥g2.svg",
      "Cukier(Sugar)": "Ikony/Cukier2.svg",
      "Truskawki(Strawberries)": "Ikony/Truskawki.svg",
      "≈ömietana(Cream)": "Ikony/≈ömietana.svg",
      "Pier√≥g": "Ikony/Pier√≥g.svg"
    };

    // Mapping tekstowych symboli dla cech dodatkowych
    const categorySymbols = {
      "Wytrawny": "üç¥",    // symbol sztuƒác√≥w
      "S≈Çodki": "üç¨",      // symbol cukierka
      "Miƒôsny": "üçó",      // symbol ud≈∫ca
      "Jarski": "üçÉ",      // symbol li≈õcia
      "Wege": "üå∏",    // symbol fioletowego kwiatu
      "Tradycyjny": "üëó",  // symbol sukienki
      "Nowoczesny": "üì±",  // symbol telefonu
      "Premium": "‚≠ê"      // symbol gwiazdki
    };

    // Listy nazw do kolorowania t≈Ça w kolumnie Nazwa
    const blueNames = [
      "Z miƒôsem (With meat)",
      "Rycerskie (Knight's)",
      "Ch≈Çopskie (Peasant's)",
      "Z miƒôsem i kapustƒÖ (Cabbage&Meat)",
      "Zb√≥jnickie (Ruffian's)",
      "Dzyndza≈Çki z hreczkƒÖ (Masurian)",
      "Biesiadne (Festive)",
      "≈ölƒÖski przysmak (Silesian delicacy)",
      "Z ≈Åososiem wƒôdzonym (Smoked salmon)",
      "Z ≈Åososiem i serem (Salmon&Cheese)"
    ];
    const greenNames = [
      "Podkarpackie \"srokate\" (Subcarpathian)",
      "Ruskie (Red Rus' style)",
      "G√≥ralskie (Mountain style)",
      "Z czosnkiem nied≈∫wiedzim",
      "Kakory z marchewkƒÖ (Carrots kakory)",
      "Uszka z grzybami (pron. Ooshka)",
      "Suszone grzyby le≈õne (Dried forest mushrooms)",
      "Po kurpiowsku (Kurpie style)",
      "Z kapustƒÖ i grzybami (Mushrooms&Cabbage)",
      "Mieszanka Wiejska (Village Mix)",
      "Z marchwiƒÖ i pra≈ºonymi orzechami (Carrot&Roasted Nuts)",
      "Z kapustƒÖ (CABBAGE!!11!)",
      "Marchew & Cebulka (Carrot&Onion)",
	  "Gryczano-grzybowe (Buckwheat&Mushrooms)"
    ];
    const yellowNames = [
      "Ze ≈õliwkƒÖ wƒôdzonƒÖ (Smoked Plum)",
      "Ze ≈õliwkƒÖ i orzechami (Plums&Nuts)",
      "Z jagodami i bia≈ÇƒÖ czekoladƒÖ",
      "Z truskawkami (With Strawberries)",
      "Z truskawkami i mlecznƒÖ czekoladƒÖ",
      "Z serem i truskawkami (Cheese&Strawberries)",
      "Z serem s≈Çodkim (Classic sweet cheese)",
      "Z serem i jagodami (Cheese&Blueberries)",
      "Z serem i orzechami (Cheese&Nuts)",
      "Czekoladowo-orzechowe z kaszƒÖ",
      "Z truskawkami i kaszƒÖ jaglanƒÖ (Strawberries&Millet groats)",
      "Owoce le≈õne (Forest Fruits)",
	  "Z serem i jagodami (Cheese&Blueberries)",
	  "Pierogi z sadu (Orchard pierogi)",
	  "Pierogi leniwe (\"Lazy dumplings\")",
	  "Truskawka w cie≈õcie ziemniaczanym (Strawberry in potato dough)"
    ];

    // Dane pierog√≥w: 
    // [Nazwa/Name, Baza/Base, Faktura/Fabric, Akcent/Accent, [Info], Cena/Price]
const pierogiData = [
  ["Z miƒôsem (With meat)", "Miƒôso(Meat)", "Czosnek(Garlic)", "Cebula(Onion)", ["Wytrawny","Miƒôsny","Tradycyjny"], 7],
  ["Ch≈Çopskie (Peasant's)", "Miƒôso(Meat)", "Ziemniaki(Potatoes)", "Cebula(Onion)", ["Wytrawny","Miƒôsny","Tradycyjny"], 7],
  ["Rycerskie (Knight's)", "Marchew(Carrot)", "Miƒôso(Meat)", "Cebula(Onion)", ["Wytrawny","Miƒôsny","Tradycyjny"], 7],
  ["Z miƒôsem i kapustƒÖ (Cabbage&Meat)", "Kapusta(Cabbage)", "Miƒôso(Meat)", "Cebula(Onion)", ["Wytrawny","Miƒôsny","Tradycyjny"], 7],
  ["Zb√≥jnickie (Ruffian's)", "Kapusta(Cabbage)", "Kasza(Groats)", "Miƒôso(Meat)", ["Wytrawny","Miƒôsny","Tradycyjny"], 7],
  ["Biesiadne (Festive)", "≈öliwka(Plum)", "Kasza(Groats)", "Miƒôso(Meat)", ["Wytrawny","Miƒôsny","Tradycyjny"], 9],
  ["Dzyndza≈Çki z hreczkƒÖ (Masurian)", "Miƒôso(Meat)", "Kasza(Groats)", "Jajko(Egg)", ["Wytrawny","Miƒôsny","Tradycyjny","Premium"], 9],
  ["≈ölƒÖski przysmak (Silesian delicacy)", "Miƒôso(Meat)", "≈öliwka(Plum)", "Ogie≈Ñ(Fire)", ["Wytrawny","Miƒôsny","Nowoczesny","Premium"], 9],
  ["Z ≈Åososiem wƒôdzonym (Smoked salmon)", "≈Åoso≈õ(Salmon)", "Czosnek(Garlic)", "Ogie≈Ñ(Fire)", ["Wytrawny","Miƒôsny","Nowoczesny","Premium"], 9],
  ["Z ≈Åososiem i serem (Salmon&Cheese)", "≈Åoso≈õ(Salmon)", "Twar√≥g(Quark)", "Cebula(Onion)", ["Wytrawny","Miƒôsny","Nowoczesny","Premium"], 9],
  ["Podkarpackie \"srokate\" (Subcarpathian)", "Kapusta(Cabbage)", "Twar√≥g(Quark)", "Jajko(Egg)", ["Wytrawny","Jarski","Tradycyjny"], 5],
  ["Uszka z grzybami (pron. Ooshka)", "Grzyby(Mushrooms)", "Jajko(Egg)", "Cebula(Onion)", ["Wytrawny","Jarski","Tradycyjny"], 7],
  ["Po kurpiowsku (Kurpie style)", "Grzyby(Mushrooms)", "Orzechy(Nuts)", "Jajko(Egg)", ["Wytrawny","Jarski","Tradycyjny","Premium"], 9],
  ["Z kapustƒÖ i grzybami (Mushrooms&Cabbage)", "Grzyby(Mushrooms)", "Czosnek(Garlic)", "Kapusta(Cabbage)", ["Wytrawny","Wege","Tradycyjny"], 5],
  ["Mieszanka Wiejska (Village Mix)", "Grzyby(Mushrooms)", "≈öliwka(Plum)", "Kapusta(Cabbage)", ["Wytrawny","Wege","Nowoczesny"], 7],
  ["Suszone grzyby le≈õne (Dried forest mushrooms)", "Grzyby(Mushrooms)", "Cebula(Onion)", "Ogie≈Ñ(Fire)", ["Wytrawny","Wege","Tradycyjny","Premium"], 7],
  ["Gryczano-grzybowe (Buckwheat&Mushrooms)", "Grzyby(Mushrooms)", "Kasza(Groats)", "Ogie≈Ñ(Fire)", ["Wytrawny","Wege","Tradycyjny"], 7],
  ["Z marchwiƒÖ i pra≈ºonymi orzechami (Carrot&Roasted Nuts)", "Marchew(Carrot)", "Orzechy(Nuts)", "Ogie≈Ñ(Fire)", ["Wytrawny","Wege","Nowoczesny"], 5],
  ["Z kapustƒÖ (CABBAGE!!11!)", "Marchew(Carrot)", "Czosnek(Garlic)", "Kapusta(Cabbage)", ["Wytrawny","Wege","Tradycyjny"], 7],
  ["Marchew & Cebulka (Carrot&Onion)", "Marchew(Carrot)", "Cebula(Onion)", "≈ömietana(Cream)", ["Wytrawny","Wege","Tradycyjny"], 5],
  ["Kakory z marchewkƒÖ (Carrots kakory)", "Marchew(Carrot)", "Ziemniaki(Potatoes)", "Cebula(Onion)", ["Wytrawny","Wege","Nowoczesny"], 5],
  ["Ruskie (Red Rus' style)", "Twar√≥g(Quark)", "Ziemniaki(Potatoes)", "Cebula(Onion)", ["Wytrawny","Jarski","Tradycyjny"], 5],
  ["G√≥ralskie (Mountain style)", "Twar√≥g(Quark)", "Ziemniaki(Potatoes)", "Ogie≈Ñ(Fire)", ["Wytrawny","Jarski","Nowoczesny","Premium"], 7],
  ["Pierogi leniwe (\"Lazy dumplings\")", "Twar√≥g(Quark)", "Ziemniaki(Potatoes)", "Cukier(Sugar)", ["S≈Çodki","Jarski","Tradycyjny"], 5],
  ["Truskawka w cie≈õcie ziemniaczanym (Strawberry in potato dough)", "Truskawki(Strawberries)", "Ziemniaki(Potatoes)", "Cukier(Sugar)", ["S≈Çodki","Jarski","Nowoczesny"], 5],
  ["Z truskawkami (With Strawberries)", "Truskawki(Strawberries)", "≈ömietana(Cream)", "Cukier(Sugar)", ["S≈Çodki","Wege","Tradycyjny"], 5],
  ["Z serem i truskawkami (Cheese&Strawberries)", "Truskawki(Strawberries)", "Twar√≥g(Quark)", "Cukier(Sugar)", ["S≈Çodki","Jarski","Nowoczesny"], 7],
  ["Z truskawkami i kaszƒÖ jaglanƒÖ (Strawberries&Millet groats)", "Truskawki(Strawberries)", "Kasza(Groats)", "Cukier(Sugar)", ["S≈Çodki","Jarski","Nowoczesny"], 5],
  ["Pierogi z sadu (Orchard pierogi)", "Truskawki(Strawberries)", "≈öliwka(Plum)", "Cukier(Sugar)", ["S≈Çodki","Wege","Nowoczesny"], 9],
  ["Owoce le≈õne (Forest Fruits)", "Truskawki(Strawberries)", "Jagody(Blueberries)", "≈ömietana(Cream)", ["S≈Çodki","Jarski","Nowoczesny","Premium"], 9],
  ["Ze ≈õliwkƒÖ wƒôdzonƒÖ (Smoked Plum)", "≈öliwka(Plum)", "≈ömietana(Cream)", "Ogie≈Ñ(Fire)", ["S≈Çodki","Wege","Tradycyjny"], 7],
  ["Ze ≈õliwkƒÖ i orzechami (Plums&Nuts)", "≈öliwka(Plum)", "Orzechy(Nuts)", "≈ömietana(Cream)", ["S≈Çodki","Wege","Tradycyjny","Premium"], 7],
  ["Z serem i orzechami (Cheese&Nuts)", "Twar√≥g(Quark)", "Orzechy(Nuts)", "Cukier(Sugar)", ["S≈Çodki","Jarski","Tradycyjny"], 7],
  ["Z serem s≈Çodkim (Classic sweet cheese)", "Twar√≥g(Quark)", "Jajko(Egg)", "Cukier(Sugar)", ["S≈Çodki","Jarski","Tradycyjny"], 5],
  ["Z serem i jagodami (Cheese&Blueberries)", "Twar√≥g(Quark)", "Jajko(Egg)", "Jagody(Blueberries)", ["S≈Çodki","Jarski","Nowoczesny"], 9]
];
    // Funkcja renderujƒÖca tabelƒô pierog√≥w
    function renderPierogiTable(filteredPierogi) {
      const pierogiTable = document.getElementById('pierogiTable');
      pierogiTable.innerHTML = ''; // Reset tabeli

      filteredPierogi.forEach(pierog => {
        // pierog = [nazwa, sk≈Ç1, sk≈Ç2, sk≈Ç3, [cechy], cena]
        const row = document.createElement('tr');

        // Nazwa + kolor t≈Ça
        const tdName = document.createElement('td');
        tdName.textContent = pierog[0];
        if (blueNames.includes(pierog[0])) {
          tdName.style.backgroundColor = '#b7cee5';
        } else if (greenNames.includes(pierog[0])) {
          tdName.style.backgroundColor = '#64b372';
        } else if (yellowNames.includes(pierog[0])) {
          tdName.style.backgroundColor = '#f0c36d';
        }
        row.appendChild(tdName);

        // Sk≈Çadniki (kolumny 2-4)
        for (let i = 1; i <= 3; i++) {
          const td = document.createElement('td');
          const ingr = pierog[i];
          td.innerHTML = `<img src="${icons[ingr]}" alt="${ingr}" />${ingr}`;
          row.appendChild(td);
        }

        // Dodatkowe cechy ‚Äì u≈ºywamy tekstowych symboli
        const tdExtras = document.createElement('td');
        const extras = pierog[4]; // np. ["Wytrawny","Miƒôsny","Tradycyjny"]
        const extrasHTML = extras.map(attr => {
          const symbol = categorySymbols[attr] || "";
          return `<span title="${attr}" style="margin-right:3px; font-size:18px;">${symbol}</span>`;
        }).join('');
        tdExtras.innerHTML = extrasHTML;
        row.appendChild(tdExtras);

        // Cena
        const tdPrice = document.createElement('td');
        tdPrice.textContent = pierog[5];
        row.appendChild(tdPrice);

        pierogiTable.appendChild(row);
      });
    }

    // Filtrowanie po sk≈Çadnikach (pierwsze 4 pola: nazwa + 3 sk≈Çadniki)
    function filterByIngredients() {
      const selectedIngredient1 = document.getElementById('ingredientSelect1Label').textContent;
      const selectedIngredient2 = document.getElementById('ingredientSelect2Label').textContent;

      if (
        selectedIngredient1 !== "Wybierz sk≈Çadnik" &&
        selectedIngredient2 !== "Wybierz sk≈Çadnik" &&
        selectedIngredient1 === selectedIngredient2
      ) {
        alert("Wybierz dwa r√≥≈ºne sk≈Çadniki.");
        return;
      }

      const filtered = pierogiData.filter(pierog => {
        const ingrList = pierog.slice(0, 4);
        return (
          (selectedIngredient1 === "Wybierz sk≈Çadnik" || ingrList.includes(selectedIngredient1)) &&
          (selectedIngredient2 === "Wybierz sk≈Çadnik" || ingrList.includes(selectedIngredient2))
        );
      });

      renderPierogiTable(filtered);
    }

    // Dodawanie opcji do list rozwijanych
    function addSelectOptions(selectId) {
      const selectContainer = document.getElementById(selectId + 'Container');
      const selectItems = document.getElementById(selectId + 'Items');
      const options = [
        "Miƒôso(Meat)", "Cebula(Onion)", "Marchew(Carrot)", "Ziemniaki(Potatoes)", "Kapusta(Cabbage)", "Kasza(Groats)", 
        "Jajko(Egg)", "≈öliwka(Plum)", "Grzyby(Mushrooms)", "Czosnek(Garlic)", "Orzechy(Nuts)", 
        "Jagody(Blueberries)", "≈Åoso≈õ(Salmon)", "Ogie≈Ñ(Fire)", "Twar√≥g(Quark)", "Cukier(Sugar)", "Truskawki(Strawberries)", "≈ömietana(Cream)"
      ];

      options.forEach(option => {
        const item = document.createElement('div');
        item.innerHTML = `<img src="${icons[option]}" alt="${option}" /> ${option}`;
        item.onclick = (event) => {
          event.stopPropagation();
          document.getElementById(selectId + 'Label').textContent = option;
          document.getElementById(selectId + 'Icon').src = icons[option] || icons["Pier√≥g"];
          selectItems.classList.remove('show');
        };
        selectItems.appendChild(item);
      });

      const selectBox = document.getElementById(selectId + 'Box');
      selectBox.addEventListener('click', function(event) {
        event.stopPropagation();
        document.querySelectorAll('.select-items.show').forEach(el => {
          if (el !== selectItems) {
            el.classList.remove('show');
          }
        });
        if (selectItems.classList.contains('show')) {
          selectItems.classList.remove('show');
        } else {
          selectItems.classList.add('show');
        }
      });
    }

    // Zamykanie dropdown√≥w przy klikniƒôciu poza nimi
    document.addEventListener('click', function() {
      document.querySelectorAll('.select-items.show').forEach(el => {
        el.classList.remove('show');
      });
    });

    // Reset wyboru sk≈Çadnik√≥w
    function resetSelections() {
      document.getElementById('ingredientSelect1Label').textContent = 'Wybierz sk≈Çadnik';
      document.getElementById('ingredientSelect1Icon').src = icons["Pier√≥g"];
      document.getElementById('ingredientSelect2Label').textContent = 'Wybierz sk≈Çadnik';
      document.getElementById('ingredientSelect2Icon').src = icons["Pier√≥g"];
      renderPierogiTable(pierogiData);
    }

    // Funkcje pokazywania sekcji
    function showAll() {
      document.getElementById('filterSection').style.display = 'none';
      renderPierogiTable(pierogiData);
    }
    function showFiltered() {
      document.getElementById('filterSection').style.display = 'block';
    }

    // Inicjalizacja
    addSelectOptions('ingredientSelect1');
    addSelectOptions('ingredientSelect2');
    renderPierogiTable(pierogiData);
  </script>
</body>
</html>
